<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éšæœºç¾é£Ÿæ¨èå™¨</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'PingFang SC', 'Helvetica Neue', Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .logo {
            font-size: 40px;
            margin-bottom: 5px;
        }
        
        h1 {
            color: #e74c3c;
            font-size: 22px;
            margin-bottom: 5px;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 14px;
        }
        
        .food-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            text-align: center;
        }
        
        .food-image {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 15px;
            border: 4px solid #ffeaa7;
        }
        
        .food-name {
            font-size: 20px;
            color: #e74c3c;
            margin-bottom: 8px;
            font-weight: bold;
        }
        
        .food-type {
            background: #ffeaa7;
            color: #d35400;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 13px;
            margin-bottom: 10px;
            display: inline-block;
        }
        
        .food-desc {
            color: #666;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .btn {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            margin: 8px 0;
            transition: transform 0.3s ease;
            box-shadow: 0 4px 10px rgba(231, 76, 60, 0.3);
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        .btn-custom {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            box-shadow: 0 4px 10px rgba(46, 204, 113, 0.3);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 10px;
            color: #e74c3c;
            font-size: 16px;
        }
        
        /* æ¨¡æ€æ¡†æ ·å¼ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            padding: 20px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .modal-title {
            font-size: 18px;
            color: #2c3e50;
            font-weight: bold;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #7f8c8d;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        .input-label {
            display: block;
            margin-bottom: 5px;
            font-size: 14px;
            color: #2c3e50;
        }
        
        .input-field {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
        }
        
        .food-list {
            max-height: 300px;
            overflow-y: auto;
            margin: 15px 0;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 10px;
        }
        
        .food-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 10px;
            border-bottom: 1px solid #f5f5f5;
        }
        
        .food-item:last-child {
            border-bottom: none;
        }
        
        .food-item-name {
            flex-grow: 1;
        }
        
        .delete-btn {
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 4px 8px;
            font-size: 12px;
            cursor: pointer;
        }
        
        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .btn-group .btn {
            flex: 1;
            margin: 0;
        }
        
        .tip {
            text-align: center;
            color: #7f8c8d;
            font-size: 12px;
            margin-top: 15px;
        }
        
        /* æ‰‹æœºå±å¹•é€‚é… */
        @media (max-width: 480px) {
            .container {
                padding: 5px;
            }
            
            .food-image {
                width: 100px;
                height: 100px;
            }
            
            .food-name {
                font-size: 18px;
            }
            
            .btn {
                padding: 10px 15px;
                font-size: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">ğŸ½ï¸</div>
            <h1>éšæœºç¾é£Ÿæ¨èå™¨</h1>
            <p class="subtitle">è§£å†³ä½ çš„é€‰æ‹©å›°éš¾ç—‡</p>
        </div>
        
        <div class="food-card">
            <img id="foodImage" class="food-image" src="https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="ç¾é£Ÿ">
            <h2 id="foodName" class="food-name">å°ç¬¼åŒ…</h2>
            <div id="foodType" class="food-type">å—æ–¹ååƒ</div>
            <p id="foodDesc" class="food-desc">çš®è–„é¦…å¤šï¼Œæ±¤æ±é²œç¾</p>
        </div>
        
        <div class="loading" id="loading">æ­£åœ¨æŒ‘é€‰ç¾å‘³...</div>
        
        <button class="btn" id="randomBtn"><i class="fas fa-random"></i> éšæœºæ¨è</button>
        <button class="btn btn-custom" id="customBtn"><i class="fas fa-edit"></i> è‡ªå®šä¹‰èœå•</button>
        <button class="btn btn-secondary" id="shareBtn"><i class="fas fa-share-alt"></i> åˆ†äº«ç»™æœ‹å‹</button>
        
        <div class="tip">
            <p>æç¤ºï¼šç‚¹å‡»"è‡ªå®šä¹‰èœå•"æ·»åŠ æ‚¨å–œæ¬¢çš„é£Ÿç‰©</p>
        </div>
    </div>

    <!-- è‡ªå®šä¹‰èœå•æ¨¡æ€æ¡† -->
    <div class="modal" id="customModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">è‡ªå®šä¹‰èœå•</h2>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            
            <div class="input-group">
                <label class="input-label">æ·»åŠ é£Ÿç‰©</label>
                <input type="text" class="input-field" id="newFoodInput" placeholder="è¾“å…¥é£Ÿç‰©åç§°ï¼Œå¦‚ï¼šçº¢çƒ§è‚‰">
            </div>
            
            <button class="btn btn-custom" id="addFoodBtn">æ·»åŠ </button>
            
            <div class="food-list" id="foodList">
                <!-- é£Ÿç‰©åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
            </div>
            
            <div class="btn-group">
                <button class="btn" id="resetBtn">é‡ç½®</button>
                <button class="btn btn-custom" id="saveBtn">ç¡®å®š</button>
            </div>
        </div>
    </div>

    <script>
        // æ‰©å±•çš„é£Ÿç‰©æ•°æ® - ä½¿ç”¨å¯é çš„å›¾ç‰‡é“¾æ¥
        const defaultFoods = [
            // å—æ–¹å®¶å¸¸èœ
            { name: "çº¢çƒ§è‚‰", type: "å—æ–¹å®¶å¸¸èœ", desc: "è‰²æ³½çº¢äº®ï¼Œè‚¥è€Œä¸è…»ï¼Œå…¥å£å³åŒ–", image: "https://images.unsplash.com/photo-1589647363585-f4a7d3877b10?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "æ¸…è’¸é²ˆé±¼", type: "å—æ–¹å®¶å¸¸èœ", desc: "é²œå«©çˆ½æ»‘ï¼Œæ¸…æ·¡å¯å£", image: "https://images.unsplash.com/photo-1519708227418-c8fd9a32b7a2?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "ç³–é†‹æ’éª¨", type: "å—æ–¹å®¶å¸¸èœ", desc: "é…¸ç”œé€‚ä¸­ï¼Œå¤–é…¥é‡Œå«©", image: "https://images.unsplash.com/photo-1589606663923-283133d2e59a?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "éº»å©†è±†è…", type: "å—æ–¹å®¶å¸¸èœ", desc: "éº»è¾£é²œé¦™ï¼Œå£æ„Ÿæ»‘å«©", image: "https://images.unsplash.com/photo-1546549032-9571cd6b27df?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "å®«ä¿é¸¡ä¸", type: "å—æ–¹å®¶å¸¸èœ", desc: "éº»è¾£é…¸ç”œï¼Œé²œé¦™çˆ½å£", image: "https://images.unsplash.com/photo-1563245372-f21724e3856d?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "é±¼é¦™è‚‰ä¸", type: "å—æ–¹å®¶å¸¸èœ", desc: "é±¼é¦™å‘³æµ“ï¼Œé…¸ç”œå¾®è¾£", image: "https://images.unsplash.com/photo-1563245372-f21724e3856d?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "ä¸œå¡è‚‰", type: "å—æ–¹å®¶å¸¸èœ", desc: "è‚¥è€Œä¸è…»ï¼Œé…¥è€Œä¸ç¢", image: "https://images.unsplash.com/photo-1589647363585-f4a7d3877b10?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "ç™½åˆ‡é¸¡", type: "å—æ–¹å®¶å¸¸èœ", desc: "çš®çˆ½è‚‰æ»‘ï¼Œæ¸…æ·¡é²œç¾", image: "https://images.unsplash.com/photo-1519708227418-c8fd9a32b7a2?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            
            // åŒ—æ–¹å®¶å¸¸èœ
            { name: "äº¬é…±è‚‰ä¸", type: "åŒ—æ–¹å®¶å¸¸èœ", desc: "é…±é¦™æµ“éƒï¼Œå’¸ç”œé€‚ä¸­", image: "https://images.unsplash.com/photo-1546549032-9571cd6b27df?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "é”…åŒ…è‚‰", type: "åŒ—æ–¹å®¶å¸¸èœ", desc: "è‰²æ³½é‡‘é»„ï¼Œå¤–é…¥é‡Œå«©", image: "https://images.unsplash.com/photo-1589606663923-283133d2e59a?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "åœ°ä¸‰é²œ", type: "åŒ—æ–¹å®¶å¸¸èœ", desc: "é²œçˆ½é€‚å£ï¼Œè¥å…»ä¸°å¯Œ", image: "https://images.unsplash.com/photo-1546549032-9571cd6b27df?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "çŒªè‚‰ç‚–ç²‰æ¡", type: "åŒ—æ–¹å®¶å¸¸èœ", desc: "è‚‰çƒ‚ç²‰æ»‘ï¼Œæ±¤æ±æµ“éƒ", image: "https://images.unsplash.com/photo-1589647363585-f4a7d3877b10?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "å°é¸¡ç‚–è˜‘è‡", type: "åŒ—æ–¹å®¶å¸¸èœ", desc: "é¸¡è‚‰é²œå«©ï¼Œè˜‘è‡é¦™æµ“", image: "https://images.unsplash.com/photo-1519708227418-c8fd9a32b7a2?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "é…¸èœé±¼", type: "åŒ—æ–¹å®¶å¸¸èœ", desc: "é…¸è¾£å¼€èƒƒï¼Œé±¼è‚‰é²œå«©", image: "https://images.unsplash.com/photo-1519708227418-c8fd9a32b7a2?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "æœ¨é¡»è‚‰", type: "åŒ—æ–¹å®¶å¸¸èœ", desc: "è‰²æ³½é²œè‰³ï¼Œå£æ„Ÿä¸°å¯Œ", image: "https://images.unsplash.com/photo-1546549032-9571cd6b27df?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "é†‹æºœç™½èœ", type: "åŒ—æ–¹å®¶å¸¸èœ", desc: "é…¸è¾£å¯å£ï¼Œå¼€èƒƒä¸‹é¥­", image: "https://images.unsplash.com/photo-1546549032-9571cd6b27df?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            
            // å—åŒ—æ–¹å°åƒååƒ
            { name: "åŒ—äº¬çƒ¤é¸­", type: "åŒ—æ–¹ååƒ", desc: "å¤–çš®é…¥è„†ï¼Œè‚‰è´¨é²œå«©", image: "https://images.unsplash.com/photo-1585032226651-759b368d7246?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "ç‹—ä¸ç†åŒ…å­", type: "åŒ—æ–¹ååƒ", desc: "çš®è–„é¦…å¤§ï¼Œé²œé¦™ä¸è…»", image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "ç¾Šè‚‰æ³¡é¦", type: "åŒ—æ–¹ååƒ", desc: "æ±¤æµ“è‚‰çƒ‚ï¼Œé¦ç­‹çˆ½å£", image: "https://images.unsplash.com/photo-1589647363585-f4a7d3877b10?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "ç…é¥¼æœå­", type: "åŒ—æ–¹ååƒ", desc: "å¤–è½¯å†…è„†ï¼Œé…±é¦™æµ“éƒ", image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "å°ç¬¼åŒ…", type: "å—æ–¹ååƒ", desc: "çš®è–„é¦…å¤šï¼Œæ±¤æ±é²œç¾", image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "ç”Ÿç…åŒ…", type: "å—æ–¹ååƒ", desc: "åº•éƒ¨é…¥è„†ï¼Œé¦…å¿ƒé²œå«©", image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "è‚ ç²‰", type: "å—æ–¹ååƒ", desc: "æ™¶è¹å‰”é€ï¼Œå«©æ»‘çˆ½å£", image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "æ¡‚æ—ç±³ç²‰", type: "å—æ–¹ååƒ", desc: "ç±³ç²‰çˆ½æ»‘ï¼Œæ±¤é²œå‘³ç¾", image: "https://images.unsplash.com/photo-1589647363585-f4a7d3877b10?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "çƒ­å¹²é¢", type: "å—æ–¹ååƒ", desc: "é¢æ¡ç­‹é“ï¼Œé…±é¦™æµ“éƒ", image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "æ‹…æ‹…é¢", type: "å—æ–¹ååƒ", desc: "éº»è¾£é²œé¦™ï¼Œé¢æ¡ç­‹é“", image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "èºè›³ç²‰", type: "å—æ–¹ååƒ", desc: "é…¸è¾£é²œé¦™ï¼Œé£å‘³ç‹¬ç‰¹", image: "https://images.unsplash.com/photo-1589647363585-f4a7d3877b10?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "è‚‰å¤¹é¦", type: "åŒ—æ–¹ååƒ", desc: "é¦é¦™è‚‰é…¥ï¼Œè‚¥è€Œä¸è…»", image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "åˆ€å‰Šé¢", type: "åŒ—æ–¹ååƒ", desc: "é¢æ¡ç­‹é“ï¼Œæ±¤æ±æµ“éƒ", image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "æ²¹æ³¼é¢", type: "åŒ—æ–¹ååƒ", desc: "é¦™è¾£è¿‡ç˜¾ï¼Œé¢æ¡ç­‹é“", image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "ç‚¸é…±é¢", type: "åŒ—æ–¹ååƒ", desc: "é…±é¦™æµ“éƒï¼Œé¢æ¡çˆ½æ»‘", image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            
            // å›½é™…ç¾é£Ÿ
            { name: "æŠ«è¨", type: "è¥¿é¤", desc: "é¥¼åº•é…¥è„†ï¼Œé…æ–™ä¸°å¯Œ", image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "æ±‰å ¡", type: "è¥¿é¤", desc: "é¢åŒ…æ¾è½¯ï¼Œè‚‰é¥¼å¤šæ±", image: "https://images.unsplash.com/photo-1572802419224-296b0aeee0d9?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "å¯¿å¸", type: "æ—¥æ–™", desc: "ç±³é¥­è½¯ç³¯ï¼Œé±¼ç”Ÿé²œç¾", image: "https://images.unsplash.com/photo-1579584425555-c3ce17fd4351?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "æ‹‰é¢", type: "æ—¥æ–™", desc: "æ±¤åº•æµ“éƒï¼Œé¢æ¡ç­‹é“", image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "ç‚¸é¸¡", type: "éŸ©é¤", desc: "å¤–é…¥é‡Œå«©ï¼Œé¦™è¾£å¯å£", image: "https://images.unsplash.com/photo-1562967914-608f82629710?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "çƒ¤è‚‰", type: "éŸ©é¤", desc: "è‚‰è´¨é²œå«©ï¼Œé¦™æ°”å››æº¢", image: "https://images.unsplash.com/photo-1546549032-9571cd6b27df?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "å†¬é˜´åŠŸæ±¤", type: "æ³°é¤", desc: "é…¸è¾£å¼€èƒƒï¼Œé¦™èŒ…å‘³æµ“", image: "https://images.unsplash.com/photo-1589647363585-f4a7d3877b10?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "è¶Šå—æ²³ç²‰", type: "è¶Šé¤", desc: "æ±¤æ¸…å‘³ç¾ï¼Œæ²³ç²‰çˆ½æ»‘", image: "https://images.unsplash.com/photo-1582878826629-29b7ad1cdc43?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { name: "å’–å–±é¸¡", type: "å°é¤", desc: "å’–å–±æµ“éƒï¼Œé¸¡è‚‰é²œå«©", image: "https://images.unsplash.com/photo-1546549032-9571cd6b27df?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" }
        ];

        // è·å–é¡µé¢å…ƒç´ 
        const foodImage = document.getElementById('foodImage');
        const foodName = document.getElementById('foodName');
        const foodType = document.getElementById('foodType');
        const foodDesc = document.getElementById('foodDesc');
        const randomBtn = document.getElementById('randomBtn');
        const customBtn = document.getElementById('customBtn');
        const shareBtn = document.getElementById('shareBtn');
        const loading = document.getElementById('loading');
        
        // æ¨¡æ€æ¡†ç›¸å…³å…ƒç´ 
        const customModal = document.getElementById('customModal');
        const closeModal = document.getElementById('closeModal');
        const newFoodInput = document.getElementById('newFoodInput');
        const addFoodBtn = document.getElementById('addFoodBtn');
        const foodList = document.getElementById('foodList');
        const resetBtn = document.getElementById('resetBtn');
        const saveBtn = document.getElementById('saveBtn');

        // å­˜å‚¨ç”¨æˆ·è‡ªå®šä¹‰é£Ÿç‰©
        let customFoods = [];
        
        // ä»æœ¬åœ°å­˜å‚¨åŠ è½½è‡ªå®šä¹‰é£Ÿç‰©
        function loadCustomFoods() {
            const savedFoods = localStorage.getItem('customFoods');
            if (savedFoods) {
                customFoods = JSON.parse(savedFoods);
            }
        }
        
        // ä¿å­˜è‡ªå®šä¹‰é£Ÿç‰©åˆ°æœ¬åœ°å­˜å‚¨
        function saveCustomFoods() {
            localStorage.setItem('customFoods', JSON.stringify(customFoods));
        }
        
        // å›¾ç‰‡åŠ è½½å¤±è´¥å¤„ç†
        function handleImageError(img) {
            // ä½¿ç”¨å¤‡ç”¨å›¾ç‰‡
            img.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZmZlYWE3Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIiBmaWxsPSIjZDM1NDAwIj7kuLvlgZk8L3RleHQ+PC9zdmc+';
            img.alt = 'ç¾é£Ÿå›¾ç‰‡';
        }
        
        // éšæœºé€‰æ‹©é£Ÿç‰©å‡½æ•°
        function getRandomFood() {
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            loading.style.display = 'block';
            randomBtn.disabled = true;
            
            // åˆå¹¶é»˜è®¤é£Ÿç‰©å’Œè‡ªå®šä¹‰é£Ÿç‰©
            const allFoods = [...defaultFoods, ...customFoods];
            
            // æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚å»¶è¿Ÿ
            setTimeout(() => {
                const randomIndex = Math.floor(Math.random() * allFoods.length);
                const selectedFood = allFoods[randomIndex];
                
                // æ›´æ–°é£Ÿç‰©ä¿¡æ¯
                foodImage.onerror = function() {
                    handleImageError(this);
                };
                foodImage.src = selectedFood.image;
                foodImage.alt = selectedFood.name;
                foodName.textContent = selectedFood.name;
                foodType.textContent = selectedFood.type;
                foodDesc.textContent = selectedFood.desc;
                
                // éšè—åŠ è½½çŠ¶æ€
                loading.style.display = 'none';
                randomBtn.disabled = false;
            }, 800);
        }
        
        // åˆ†äº«åŠŸèƒ½
        function sharePage() {
            if (navigator.share) {
                navigator.share({
                    title: 'éšæœºç¾é£Ÿæ¨èå™¨',
                    text: 'å¿«æ¥è¯•è¯•è¿™ä¸ªéšæœºç¾é£Ÿæ¨èå™¨ï¼Œè§£å†³é€‰æ‹©å›°éš¾ç—‡ï¼',
                    url: window.location.href
                })
                .then(() => console.log('åˆ†äº«æˆåŠŸ'))
                .catch((error) => console.log('åˆ†äº«å¤±è´¥', error));
            } else {
                alert('è¯·å¤åˆ¶é“¾æ¥åˆ†äº«ç»™æœ‹å‹ï¼š' + window.location.href);
            }
        }
        
        // æ‰“å¼€è‡ªå®šä¹‰èœå•æ¨¡æ€æ¡†
        function openCustomModal() {
            customModal.style.display = 'flex';
            renderCustomFoods();
        }
        
        // å…³é—­è‡ªå®šä¹‰èœå•æ¨¡æ€æ¡†
        function closeCustomModal() {
            customModal.style.display = 'none';
        }
        
        // æ¸²æŸ“è‡ªå®šä¹‰é£Ÿç‰©åˆ—è¡¨
        function renderCustomFoods() {
            foodList.innerHTML = '';
            
            if (customFoods.length === 0) {
                foodList.innerHTML = '<p style="text-align: center; color: #7f8c8d; padding: 20px;">æš‚æ— è‡ªå®šä¹‰é£Ÿç‰©</p>';
                return;
            }
            
            customFoods.forEach((food, index) => {
                const foodItem = document.createElement('div');
                foodItem.className = 'food-item';
                
                foodItem.innerHTML = `
                    <span class="food-item-name">${food.name}</span>
                    <button class="delete-btn" data-index="${index}">åˆ é™¤</button>
                `;
                
                foodList.appendChild(foodItem);
            });
            
            // æ·»åŠ åˆ é™¤æŒ‰é’®äº‹ä»¶
            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    customFoods.splice(index, 1);
                    saveCustomFoods();
                    renderCustomFoods();
                });
            });
        }
        
        // æ·»åŠ è‡ªå®šä¹‰é£Ÿç‰©
        function addCustomFood() {
            const foodName = newFoodInput.value.trim();
            
            if (!foodName) {
                alert('è¯·è¾“å…¥é£Ÿç‰©åç§°');
                return;
            }
            
            // åˆ›å»ºæ–°çš„é£Ÿç‰©å¯¹è±¡
            const newFood = {
                name: foodName,
                type: 'è‡ªå®šä¹‰',
                desc: 'æ‚¨è‡ªå®šä¹‰çš„ç¾é£Ÿ',
                image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZmZlYWE3Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIiBmaWxsPSIjZDM1NDAwIj7kuLvlgZk8L3RleHQ+PC9zdmc+'
            };
            
            // æ·»åŠ åˆ°è‡ªå®šä¹‰é£Ÿç‰©åˆ—è¡¨
            customFoods.push(newFood);
            saveCustomFoods();
            
            // æ¸…ç©ºè¾“å…¥æ¡†
            newFoodInput.value = '';
            
            // é‡æ–°æ¸²æŸ“åˆ—è¡¨
            renderCustomFoods();
        }
        
        // é‡ç½®è‡ªå®šä¹‰é£Ÿç‰©
        function resetCustomFoods() {
            if (confirm('ç¡®å®šè¦é‡ç½®æ‰€æœ‰è‡ªå®šä¹‰é£Ÿç‰©å—ï¼Ÿ')) {
                customFoods = [];
                saveCustomFoods();
                renderCustomFoods();
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            // åŠ è½½è‡ªå®šä¹‰é£Ÿç‰©
            loadCustomFoods();
            
            // ç»‘å®šæŒ‰é’®ç‚¹å‡»äº‹ä»¶
            randomBtn.addEventListener('click', getRandomFood);
            customBtn.addEventListener('click', openCustomModal);
            shareBtn.addEventListener('click', sharePage);
            
            // æ¨¡æ€æ¡†ç›¸å…³äº‹ä»¶
            closeModal.addEventListener('click', closeCustomModal);
            addFoodBtn.addEventListener('click', addCustomFood);
            resetBtn.addEventListener('click', resetCustomFoods);
            saveBtn.addEventListener('click', closeCustomModal);
            
            // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
            customModal.addEventListener('click', function(e) {
                if (e.target === customModal) {
                    closeCustomModal();
                }
            });
            
            // æŒ‰å›è½¦é”®æ·»åŠ é£Ÿç‰©
            newFoodInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addCustomFood();
                }
            });
            
            // é¡µé¢åŠ è½½æ—¶éšæœºæ˜¾ç¤ºä¸€ä¸ªé£Ÿç‰©
            getRandomFood();
            
            // ä¸ºåˆå§‹å›¾ç‰‡æ·»åŠ é”™è¯¯å¤„ç†
            foodImage.onerror = function() {
                handleImageError(this);
            };
        });
    </script>
</body>
</html>